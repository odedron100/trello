{"ast":null,"code":"var _jsxFileName = \"/Users/odedron/Desktop/Oded - Development/React-projects/trello/frontend/src/cmps/FormButton/FormButton.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport './FormButton.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FormButton = props => {\n  _s();\n\n  // const [isItemFormOpen, setIsItemFormOpen] = useState(false);\n  const [newItemInputValue, setNewItemInputValue] = useState('');\n  const formContainerRef = useRef(null);\n  const openFormButtonRef = useRef(null);\n  const handleDocumentClick = useCallback(e => {\n    if (e.target === openFormButtonRef.current) {\n      return;\n    }\n\n    if (!formContainerRef.current || !isItemFormOpen) {\n      return;\n    }\n\n    if (!formContainerRef.current.contains(e.target)) {\n      setIsItemFormOpen(false);\n    }\n  }, [formContainerRef, isItemFormOpen, openFormButtonRef]);\n  useEffect(() => {\n    document.addEventListener('click', handleDocumentClick);\n    return () => {\n      document.removeEventListener('click', handleDocumentClick);\n    };\n  });\n\n  const toggleItemForm = () => {\n    setIsItemFormOpen(!isItemFormOpen);\n  };\n\n  const updateItemTitle = e => {\n    setNewItemInputValue(e.target.value);\n  };\n\n  const onSubmit = e => {\n    const newItem = {\n      title: newItemInputValue\n    };\n    props.onSubmit(newItem);\n    setNewItemInputValue('');\n  };\n\n  const dynamicClass = props.itemType;\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"form-button-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: dynamicClass,\n      children: isItemFormOpen ? /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"new-item-form\",\n        ref: formContainerRef,\n        children: [dynamicClass === 'list' ? /*#__PURE__*/_jsxDEV(\"input\", {\n          autoFocus: true,\n          type: \"text\",\n          placeholder: \"Enter item title...\",\n          onChange: updateItemTitle,\n          value: newItemInputValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"textarea\", {\n          autoFocus: true,\n          type: \"text\",\n          placeholder: \"Enter item title...\",\n          onChange: updateItemTitle,\n          value: newItemInputValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-item trello-button\",\n            onClick: onSubmit,\n            children: `Add ${props.itemType}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"remove-item\",\n            onClick: toggleItemForm,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 86\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        ref: openFormButtonRef,\n        className: \"create-item-button\",\n        onClick: toggleItemForm,\n        children: [\"+ Add a \", props.itemType]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FormButton, \"EVSsHITh/dCxiOR9wNjrbUCHy9k=\");\n\n_c = FormButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormButton\");","map":{"version":3,"sources":["/Users/odedron/Desktop/Oded - Development/React-projects/trello/frontend/src/cmps/FormButton/FormButton.jsx"],"names":["useState","useEffect","useRef","useCallback","FormButton","props","newItemInputValue","setNewItemInputValue","formContainerRef","openFormButtonRef","handleDocumentClick","e","target","current","isItemFormOpen","contains","setIsItemFormOpen","document","addEventListener","removeEventListener","toggleItemForm","updateItemTitle","value","onSubmit","newItem","title","dynamicClass","itemType"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef, useCallback } from 'react';\nimport './FormButton.scss'\n\nexport const FormButton = (props) => {\n\n    // const [isItemFormOpen, setIsItemFormOpen] = useState(false);\n    const [newItemInputValue, setNewItemInputValue] = useState('');\n    const formContainerRef = useRef(null);\n    const openFormButtonRef = useRef(null);\n\n\n      const handleDocumentClick = useCallback((e) => {\n        if (e.target === openFormButtonRef.current) {\n            return;\n        }\n\n        if (!formContainerRef.current || !isItemFormOpen) {\n            return;\n        }\n\n        if (!formContainerRef.current.contains(e.target)) {\n            setIsItemFormOpen(false);\n        }\n    }, [formContainerRef, isItemFormOpen, openFormButtonRef]);\n\n    useEffect(() => {\n        document.addEventListener('click', handleDocumentClick);\n        return () => {\n            document.removeEventListener('click', handleDocumentClick);\n        }\n    });\n\n    const toggleItemForm = () => {\n        setIsItemFormOpen(!isItemFormOpen);\n    }\n\n    const updateItemTitle = (e) => {\n        setNewItemInputValue(e.target.value);\n    }\n\n    const onSubmit = (e) => {\n        const newItem = {\n            title: newItemInputValue\n        };\n\n        props.onSubmit(newItem);\n        setNewItemInputValue('');\n    }\n    const dynamicClass = props.itemType;\n    return (\n        <section className=\"form-button-container\">\n            <div className={dynamicClass}>\n                {isItemFormOpen ?\n                    <section className=\"new-item-form\" ref={formContainerRef}>\n                     {dynamicClass === 'list' ?\n                        <input autoFocus type=\"text\" placeholder=\"Enter item title...\" onChange={updateItemTitle} value={newItemInputValue}/>\n                     :\n                        <textarea autoFocus type=\"text\" placeholder=\"Enter item title...\" onChange={updateItemTitle} value={newItemInputValue}/>}\n\n                        <footer>\n                            <button className=\"add-item trello-button\" onClick={onSubmit}>{`Add ${props.itemType}`}</button>\n                            <button className=\"remove-item\" onClick={toggleItemForm}><i className=\"fas fa-times\"></i></button>\n                        </footer>\n                    </section>\n                :\n                    <button ref={openFormButtonRef} className=\"create-item-button\" onClick={toggleItemForm}>+ Add a {props.itemType}</button>\n                }\n            </div>\n        </section>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}