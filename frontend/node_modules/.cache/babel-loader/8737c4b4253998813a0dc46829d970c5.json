{"ast":null,"code":"var _jsxFileName = \"/Users/odedron/Desktop/Oded - Development/React-projects/trello/frontend/src/cmps/FormButton/FormButton.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport { CloseModals } from '../CloseModals/CloseModals';\nimport './FormButton.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FormButton = props => {\n  _s();\n\n  const [isItemFormOpen, setIsItemFormOpen] = useState(false);\n  const [newItemInputValue, setNewItemInputValue] = useState('');\n  const formContainerRef = useRef(null);\n  const openFormButtonRef = useRef(null); //   const handleDocumentClick = useCallback((e) => {\n  //     if (e.target === openFormButtonRef.current) {\n  //         return;\n  //     }\n  //     if (!formContainerRef.current || !isItemFormOpen) {\n  //         return;\n  //     }\n  //     if (!formContainerRef.current.contains(e.target)) {\n  //         setIsItemFormOpen(false);\n  //     }\n  // }, [formContainerRef, isItemFormOpen, openFormButtonRef]);\n  // useEffect(() => {\n  //     document.addEventListener('click', handleDocumentClick);\n  //     return () => {\n  //         document.removeEventListener('click', handleDocumentClick);\n  //     }\n  // });\n\n  const toggleItemForm = () => {\n    setIsItemFormOpen(!isItemFormOpen);\n  };\n\n  const updateItemTitle = e => {\n    setNewItemInputValue(e.target.value);\n  };\n\n  const onSubmit = e => {\n    const newItem = {\n      title: newItemInputValue\n    };\n    props.onSubmit(newItem);\n    setNewItemInputValue('');\n  };\n\n  const dynamicClass = props.itemType;\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"form-button-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: dynamicClass,\n      children: [isItemFormOpen ? /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"new-item-form\",\n        ref: formContainerRef,\n        children: [dynamicClass === 'list' ? /*#__PURE__*/_jsxDEV(\"input\", {\n          autoFocus: true,\n          type: \"text\",\n          placeholder: \"Enter item title...\",\n          onChange: updateItemTitle,\n          value: newItemInputValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"textarea\", {\n          autoFocus: true,\n          type: \"text\",\n          placeholder: \"Enter item title...\",\n          onChange: updateItemTitle,\n          value: newItemInputValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-item trello-button\",\n            onClick: onSubmit,\n            children: `Add ${props.itemType}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"remove-item\",\n            onClick: toggleItemForm,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 86\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        ref: openFormButtonRef,\n        className: \"create-item-button\",\n        onClick: toggleItemForm,\n        children: [\"+ Add a \", props.itemType]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(CloseModals, {\n        openFormButtonRef: openFormButtonRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FormButton, \"qy7u/rtoQD604Ebkf0gL0MNob0A=\");\n\n_c = FormButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormButton\");","map":{"version":3,"sources":["/Users/odedron/Desktop/Oded - Development/React-projects/trello/frontend/src/cmps/FormButton/FormButton.jsx"],"names":["useState","useEffect","useRef","useCallback","CloseModals","FormButton","props","isItemFormOpen","setIsItemFormOpen","newItemInputValue","setNewItemInputValue","formContainerRef","openFormButtonRef","toggleItemForm","updateItemTitle","e","target","value","onSubmit","newItem","title","dynamicClass","itemType"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef, useCallback } from 'react';\nimport { CloseModals } from '../CloseModals/CloseModals';\nimport './FormButton.scss'\n\nexport const FormButton = (props) => {\n\n    const [isItemFormOpen, setIsItemFormOpen] = useState(false);\n    const [newItemInputValue, setNewItemInputValue] = useState('');\n    const formContainerRef = useRef(null);\n    const openFormButtonRef = useRef(null);\n\n\n    //   const handleDocumentClick = useCallback((e) => {\n    //     if (e.target === openFormButtonRef.current) {\n    //         return;\n    //     }\n\n    //     if (!formContainerRef.current || !isItemFormOpen) {\n    //         return;\n    //     }\n\n    //     if (!formContainerRef.current.contains(e.target)) {\n    //         setIsItemFormOpen(false);\n    //     }\n    // }, [formContainerRef, isItemFormOpen, openFormButtonRef]);\n\n    // useEffect(() => {\n    //     document.addEventListener('click', handleDocumentClick);\n    //     return () => {\n    //         document.removeEventListener('click', handleDocumentClick);\n    //     }\n    // });\n\n    const toggleItemForm = () => {\n        setIsItemFormOpen(!isItemFormOpen);\n    }\n\n    const updateItemTitle = (e) => {\n        setNewItemInputValue(e.target.value);\n    }\n\n    const onSubmit = (e) => {\n        const newItem = {\n            title: newItemInputValue\n        };\n\n        props.onSubmit(newItem);\n        setNewItemInputValue('');\n    }\n    const dynamicClass = props.itemType;\n    return (\n        <section className=\"form-button-container\">\n            <div className={dynamicClass}>\n                {isItemFormOpen ?\n                    <section className=\"new-item-form\" ref={formContainerRef}>\n                     {dynamicClass === 'list' ?\n                        <input autoFocus type=\"text\" placeholder=\"Enter item title...\" onChange={updateItemTitle} value={newItemInputValue}/>\n                     :\n                        <textarea autoFocus type=\"text\" placeholder=\"Enter item title...\" onChange={updateItemTitle} value={newItemInputValue}/>}\n\n                        <footer>\n                            <button className=\"add-item trello-button\" onClick={onSubmit}>{`Add ${props.itemType}`}</button>\n                            <button className=\"remove-item\" onClick={toggleItemForm}><i className=\"fas fa-times\"></i></button>\n                        </footer>\n                    </section>\n                :\n                    <button ref={openFormButtonRef} className=\"create-item-button\" onClick={toggleItemForm}>+ Add a {props.itemType}</button>\n                }\n                <CloseModals openFormButtonRef={openFormButtonRef}/>\n            </div>\n        </section>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}