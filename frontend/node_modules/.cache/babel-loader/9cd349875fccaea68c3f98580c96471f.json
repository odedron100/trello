{"ast":null,"code":"// import { utilService } from \"./util.service\";\nimport { httpService } from './http.service.js';\n\nconst backgroundImgs = require('../../data/boardBackground.json'); // import { storageService } from \"./async-storage.service.js\";\n\n\nconst KEY = 'listDB';\nconst LIST_URL = 'list/'; // const gList = []\n\nexport const listService = {\n  query,\n  getById,\n  remove,\n  save,\n  getEmptyList // getByUserId,\n\n};\n\nasync function query(filterBy) {\n  try {\n    const lists = await httpService.get(LIST_URL, filterBy);\n    localStorage.setItem(KEY, JSON.stringify(lists));\n    return lists;\n  } catch (err) {\n    console.log('Got err ', err);\n  } // let lists = utilService.loadFromStorage(KEY)\n  // if (!lists || !lists.length) {\n  //     lists = gList; // gLists -> some data from json .\n  //     utilService.saveToStorage(KEY, lists)\n  // }\n  // return storageService.query(KEY);\n\n}\n\nasync function getById(id) {\n  try {\n    const list = await httpService.get(LIST_URL + id);\n    return list;\n  } catch (err) {\n    console.log('Got err ', err);\n  } // return storageService.get(KEY, id);\n\n} // function getByUserId(id) {\n//   try {\n//     const gig = await httpService.get(`${GIG_URL + id}/profile`)\n//     return gig\n//   } catch (err) {\n//     console.log('Got err ', err)\n//   }\n// }\n\n\nasync function remove(id) {\n  try {\n    const list = await httpService.delete(LIST_URL + id);\n    return list;\n  } catch (err) {\n    console.log('Got err ', err);\n  } // return storageService.remove(KEY, id);\n\n}\n\nasync function save(list) {\n  try {\n    if (list._id) {\n      const updatedList = await httpService.put(LIST_URL + list._id, list);\n      return updatedList;\n    } else {\n      const savedList = await httpService.post(LIST_URL, list);\n      return savedList;\n    }\n  } catch (err) {\n    console.log(err);\n  } // return list._id ? storageService.put(KEY, list) : storageService.post(KEY, list);\n\n}\n\nfunction getEmptyList() {\n  return {\n    title: '',\n    cards: {} // tags: [],\n    // imgUrls: [''],\n    // price: 0,\n    // deliveryTime: null,\n    // rating: 4,\n    // creator: {\n    //   fullname: '',\n    //   imgUrl: '',\n    //   level: 3,\n    //   location: \"Israel\",\n    //   memberSince: null,\n    //   avgResponseTime: `${utilService.getRandomInt(1, 6)} Hours`,\n    //   lastDelivery: `About ${utilService.getRandomInt(1, 6)} Hours`,\n    // },\n    // reviews: []\n\n  };\n} // Create Test lists Data:\n// function _createToys() {\n//   var toys = JSON.parse(localStorage.getItem(KEY))\n//   if (!toys || !toys.length) {\n//     const TOY_URL = 'http://www.filltext.com/?rows=20&_id=%7bindex%7d&name=%7blorem|2%7d&price=%7bnumber|100%7d&type=%5b%22Educational%22,%22Funny%22,%22Adult%22%5d&createdAt=%7bdate|1970,2000%7d&inStock=%7bbool%7d&pretty=true'\n//     return axios.get(TOY_URL)\n//       .then(res => {\n//         toys = res.data\n//         localStorage.setItem(KEY, JSON.stringify(toys))\n//       })\n//   }\n//   return toys;\n// }","map":{"version":3,"sources":["/Users/odedron/Desktop/Oded - Development/React-projects/trello/frontend/src/services/list.service.js"],"names":["httpService","backgroundImgs","require","KEY","LIST_URL","listService","query","getById","remove","save","getEmptyList","filterBy","lists","get","localStorage","setItem","JSON","stringify","err","console","log","id","list","delete","_id","updatedList","put","savedList","post","title","cards"],"mappings":"AAAA;AACA,SAASA,WAAT,QAA4B,mBAA5B;;AACA,MAAMC,cAAc,GAAGC,OAAO,CAAC,iCAAD,CAA9B,C,CACA;;;AAEA,MAAMC,GAAG,GAAG,QAAZ;AAEA,MAAMC,QAAQ,GAAG,OAAjB,C,CAEA;;AAEA,OAAO,MAAMC,WAAW,GAAG;AACvBC,EAAAA,KADuB;AAEvBC,EAAAA,OAFuB;AAGvBC,EAAAA,MAHuB;AAIvBC,EAAAA,IAJuB;AAKvBC,EAAAA,YALuB,CAMvB;;AANuB,CAApB;;AASP,eAAeJ,KAAf,CAAqBK,QAArB,EAA+B;AAC3B,MAAI;AACA,UAAMC,KAAK,GAAG,MAAMZ,WAAW,CAACa,GAAZ,CAAgBT,QAAhB,EAA0BO,QAA1B,CAApB;AACAG,IAAAA,YAAY,CAACC,OAAb,CAAqBZ,GAArB,EAA0Ba,IAAI,CAACC,SAAL,CAAeL,KAAf,CAA1B;AACA,WAAOA,KAAP;AACH,GAJD,CAIE,OAAOM,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,GAAxB;AACH,GAP0B,CAQ3B;AACA;AACA;AACA;AACA;AACA;;AACH;;AAED,eAAeX,OAAf,CAAuBc,EAAvB,EAA2B;AACvB,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMtB,WAAW,CAACa,GAAZ,CAAgBT,QAAQ,GAAGiB,EAA3B,CAAnB;AACA,WAAOC,IAAP;AACH,GAHD,CAGE,OAAOJ,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,GAAxB;AACH,GANsB,CAOvB;;AACH,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,eAAeV,MAAf,CAAsBa,EAAtB,EAA0B;AACtB,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMtB,WAAW,CAACuB,MAAZ,CAAmBnB,QAAQ,GAAGiB,EAA9B,CAAnB;AACA,WAAOC,IAAP;AACH,GAHD,CAIA,OAAOJ,GAAP,EAAY;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,GAAxB;AACH,GAPqB,CAQtB;;AAEH;;AAED,eAAeT,IAAf,CAAoBa,IAApB,EAA0B;AACtB,MAAI;AACA,QAAIA,IAAI,CAACE,GAAT,EAAc;AACV,YAAMC,WAAW,GAAG,MAAMzB,WAAW,CAAC0B,GAAZ,CAAgBtB,QAAQ,GAAGkB,IAAI,CAACE,GAAhC,EAAqCF,IAArC,CAA1B;AACA,aAAOG,WAAP;AACH,KAHD,MAGO;AACH,YAAME,SAAS,GAAG,MAAM3B,WAAW,CAAC4B,IAAZ,CAAiBxB,QAAjB,EAA2BkB,IAA3B,CAAxB;AACA,aAAOK,SAAP;AACH;AACJ,GARD,CAQE,OAAOT,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,GAXqB,CAYtB;;AACH;;AAED,SAASR,YAAT,GAAwB;AACpB,SAAO;AACHmB,IAAAA,KAAK,EAAE,EADJ;AAEHC,IAAAA,KAAK,EAAE,EAFJ,CAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAjBG,GAAP;AAmBH,C,CAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["// import { utilService } from \"./util.service\";\nimport { httpService } from './http.service.js';\nconst backgroundImgs = require('../../data/boardBackground.json');\n// import { storageService } from \"./async-storage.service.js\";\n\nconst KEY = 'listDB';\n\nconst LIST_URL = 'list/';\n\n// const gList = []\n\nexport const listService = {\n    query,\n    getById,\n    remove,\n    save,\n    getEmptyList,\n    // getByUserId,\n}\n\nasync function query(filterBy) {\n    try {\n        const lists = await httpService.get(LIST_URL, filterBy)\n        localStorage.setItem(KEY, JSON.stringify(lists))\n        return lists\n    } catch (err) {\n        console.log('Got err ', err)\n    }\n    // let lists = utilService.loadFromStorage(KEY)\n    // if (!lists || !lists.length) {\n    //     lists = gList; // gLists -> some data from json .\n    //     utilService.saveToStorage(KEY, lists)\n    // }\n    // return storageService.query(KEY);\n}\n\nasync function getById(id) {\n    try {\n        const list = await httpService.get(LIST_URL + id)\n        return list\n    } catch (err) {\n        console.log('Got err ', err)\n    }\n    // return storageService.get(KEY, id);\n}\n\n// function getByUserId(id) {\n//   try {\n//     const gig = await httpService.get(`${GIG_URL + id}/profile`)\n//     return gig\n//   } catch (err) {\n//     console.log('Got err ', err)\n//   }\n// }\n\nasync function remove(id) {\n    try {\n        const list = await httpService.delete(LIST_URL + id)\n        return list\n    }\n    catch (err) {\n        console.log('Got err ', err)\n    }\n    // return storageService.remove(KEY, id);\n\n}\n\nasync function save(list) {\n    try {\n        if (list._id) {\n            const updatedList = await httpService.put(LIST_URL + list._id, list)\n            return updatedList\n        } else {\n            const savedList = await httpService.post(LIST_URL, list)\n            return savedList;\n        }\n    } catch (err) {\n        console.log(err)\n    }\n    // return list._id ? storageService.put(KEY, list) : storageService.post(KEY, list);\n}\n\nfunction getEmptyList() {\n    return {\n        title: '',\n        cards: {}\n        // tags: [],\n        // imgUrls: [''],\n        // price: 0,\n        // deliveryTime: null,\n        // rating: 4,\n        // creator: {\n        //   fullname: '',\n        //   imgUrl: '',\n        //   level: 3,\n        //   location: \"Israel\",\n        //   memberSince: null,\n        //   avgResponseTime: `${utilService.getRandomInt(1, 6)} Hours`,\n        //   lastDelivery: `About ${utilService.getRandomInt(1, 6)} Hours`,\n        // },\n        // reviews: []\n    }\n}\n\n\n\n// Create Test lists Data:\n// function _createToys() {\n//   var toys = JSON.parse(localStorage.getItem(KEY))\n//   if (!toys || !toys.length) {\n//     const TOY_URL = 'http://www.filltext.com/?rows=20&_id=%7bindex%7d&name=%7blorem|2%7d&price=%7bnumber|100%7d&type=%5b%22Educational%22,%22Funny%22,%22Adult%22%5d&createdAt=%7bdate|1970,2000%7d&inStock=%7bbool%7d&pretty=true'\n//     return axios.get(TOY_URL)\n//       .then(res => {\n//         toys = res.data\n//         localStorage.setItem(KEY, JSON.stringify(toys))\n//       })\n//   }\n//   return toys;\n// }\n"]},"metadata":{},"sourceType":"module"}